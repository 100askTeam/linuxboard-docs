"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3742],{1003:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>m});var r=e(85893),o=e(11151);const i={sidebar_position:4},s="\u8f6f\u4ef6\u9002\u914d",a={id:"TinyVision/part5/SoftwareAdaptation",title:"\u8f6f\u4ef6\u9002\u914d",description:"\u8fd9\u90e8\u5206\u4f7f\u7528BSP\u5f00\u53d1\u5305\u5373\u53ef\uff0c\u914d\u7f6e\u8bbe\u5907\u6811\u5982\u4e0b\uff1a",source:"@site/docs/TinyVision/part5/4-SoftwareAdaptation.md",sourceDirName:"TinyVision/part5",slug:"/TinyVision/part5/SoftwareAdaptation",permalink:"/docs/TinyVision/part5/SoftwareAdaptation",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/linuxboard-docs/tree/main/docs/TinyVision/part5/4-SoftwareAdaptation.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"v851seSidebar",previous:{title:"E907 \u5b50\u7cfb\u7edf\u6846\u56fe",permalink:"/docs/TinyVision/part5/E907SubsystemBlockDiagram"},next:{title:"\u5185\u5b58\u5212\u5206",permalink:"/docs/TinyVision/part5/MemoryPartitioning"}},c={},m=[];function p(n){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,o.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"\u8f6f\u4ef6\u9002\u914d",children:"\u8f6f\u4ef6\u9002\u914d"}),"\n",(0,r.jsx)(t.p,{children:"\u8fd9\u90e8\u5206\u4f7f\u7528BSP\u5f00\u53d1\u5305\u5373\u53ef\uff0c\u914d\u7f6e\u8bbe\u5907\u6811\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'reserved-memory {                               // \u914d\u7f6e\u9884\u7559\u5185\u5b58\u533a\u95f4\n\te907_dram: riscv_memserve {                 // riscv \u6838\u5fc3\u4f7f\u7528\u7684\u5185\u5b58\n\t\treg = <0x0 0x43c00000 0x0 0x00400000>;  // \u8d77\u59cb\u5730\u5740 0x43c00000 \u957f\u5ea6 4MB\n\t\tno-map;\n\t};\n\n\tvdev0buffer: vdev0buffer@0x43000000 {       // vdev\u8bbe\u5907buffer\u9884\u7559\u5185\u5b58\n\t\tcompatible = "shared-dma-pool";\n\t\treg = <0x0 0x43000000 0x0 0x40000>;\n\t\tno-map;\n\t};\n\n\tvdev0vring0: vdev0vring0@0x43040000 {       // \u901a\u8baf\u4f7f\u7528\u7684vring\u8bbe\u59070\n\t\treg = <0x0 0x43040000 0x0 0x20000>;\n\t\tno-map;\n\t};\n\n\tvdev0vring1: vdev0vring1@0x43060000 {       // \u901a\u8baf\u4f7f\u7528\u7684vring\u8bbe\u59071\n\t\treg = <0x0 0x43060000 0x0 0x20000>;\n\t\tno-map;\n\t};\n};\n\ne907_rproc: e907_rproc@0 {                      // rproc\u76f8\u5173\u914d\u7f6e\n\tcompatible = "allwinner,sun8iw21p1-e907-rproc";\n\tclock-frequency = <600000000>;\n\tmemory-region = <&e907_dram>, <&vdev0buffer>,\n\t\t\t\t<&vdev0vring0>, <&vdev0vring1>;\n\n\tmboxes = <&msgbox 0>;\n\tmbox-names = "mbox-chan";\n\tiommus = <&mmu_aw 5 1>;\n\n\tmemory-mappings =\n\t\t\t/* DA \t         len         PA */\n\t\t\t/* DDR for e907  */\n\t\t\t< 0x43c00000 0x00400000 0x43c00000 >;\n\tcore-name = "sun8iw21p1-e907";\n\tfirmware-name = "melis-elf";\n\tstatus = "okay";\n};\n\nrpbuf_controller0: rpbuf_controller@0 {        // rpbuf\u914d\u7f6e\n\tcompatible = "allwinner,rpbuf-controller";\n\tremoteproc = <&e907_rproc>;\n\tctrl_id = <0>;\t/* index of /dev/rpbuf_ctrl */\n\tiommus = <&mmu_aw 5 1>;\n\tstatus = "okay";\n};\n\nrpbuf_sample: rpbuf_sample@0 {\n\tcompatible = "allwinner,rpbuf-sample";\n\trpbuf = <&rpbuf_controller0>;\n\tstatus = "okay";\n};\n\nmsgbox: msgbox@3003000 {                       // msgbox\u914d\u7f6e\n\tcompatible = "allwinner,sunxi-msgbox";\n\t#mbox-cells = <1>;\n\treg = <0x0 0x03003000 0x0 0x1000>,\n\t\t<0x0 0x06020000 0x0 0x1000>;\n\tinterrupts = <GIC_SPI 0 IRQ_TYPE_LEVEL_HIGH>,\n\t\t\t\t<GIC_SPI 1 IRQ_TYPE_LEVEL_HIGH>;\n\tclocks = <&clk_msgbox0>;\n\tclock-names = "msgbox0";\n\tlocal_id = <0>;\n\tstatus = "okay";\n};\n\ne907_standby: e907_standby@0 {\n\tcompatible = "allwinner,sunxi-e907-standby";\n\n\tfirmware = "riscv.fex";\n\tmboxes = <&msgbox 1>;\n\tmbox-names = "mbox-chan";\n\tpower-domains = <&pd V853_PD_E907>;\n\tstatus = "okay";\n};\n'})})]})}function l(n={}){const{wrapper:t}={...(0,o.a)(),...n.components};return t?(0,r.jsx)(t,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},11151:(n,t,e)=>{e.d(t,{Z:()=>a,a:()=>s});var r=e(67294);const o={},i=r.createContext(o);function s(n){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function a(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),r.createElement(i.Provider,{value:t},n.children)}}}]);