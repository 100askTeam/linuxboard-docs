"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3436],{8716:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>p,frontMatter:()=>c,metadata:()=>d,toc:()=>l});var i=s(85893),r=s(11151);const c={sidebar_position:5},a="\u652f\u6301CAN\u529f\u80fd",d={id:"T113i-Industrial/part6/SupportCANFunction",title:"\u652f\u6301CAN\u529f\u80fd",description:"1.\u4f7f\u80fd\u8bbe\u5907\u6811CAN\u8282\u70b9",source:"@site/docs/T113i-Industrial/part6/05-SupportCANFunction.md",sourceDirName:"T113i-Industrial/part6",slug:"/T113i-Industrial/part6/SupportCANFunction",permalink:"/en/docs/T113i-Industrial/part6/SupportCANFunction",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/linuxboard-docs/tree/main/docs/T113i-Industrial/part6/05-SupportCANFunction.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"t113iSidebar",previous:{title:"\u652f\u6301RS485\u529f\u80fd",permalink:"/en/docs/T113i-Industrial/part6/SupportRS485Function"},next:{title:"MIPI\u5c4f\u9002\u914d",permalink:"/en/docs/T113i-Industrial/part6/MIPIScreenAdaptation"}},t={},l=[{value:"1.\u4f7f\u80fd\u8bbe\u5907\u6811CAN\u8282\u70b9",id:"1\u4f7f\u80fd\u8bbe\u5907\u6811can\u8282\u70b9",level:2},{value:"2.\u914d\u7f6e\u5185\u6838\u9a71\u52a8",id:"2\u914d\u7f6e\u5185\u6838\u9a71\u52a8",level:2},{value:"3.\u6d4b\u8bd5CAN\u529f\u80fd",id:"3\u6d4b\u8bd5can\u529f\u80fd",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"\u652f\u6301can\u529f\u80fd",children:"\u652f\u6301CAN\u529f\u80fd"}),"\n",(0,i.jsx)(n.h2,{id:"1\u4f7f\u80fd\u8bbe\u5907\u6811can\u8282\u70b9",children:"1.\u4f7f\u80fd\u8bbe\u5907\u6811CAN\u8282\u70b9"}),"\n",(0,i.jsx)(n.p,{children:"\u5728t113-i\u5f00\u53d1\u677f\u7684\u8bbe\u5907\u6811\u4e2d\uff0cCAN\u7684\u8bbe\u5907\u6811\u8282\u70b9\u4e0d\u53ebcan\uff0c\u540d\u79f0\u662fawlink\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u8fdb\u5165",(0,i.jsx)(n.code,{children:"t113i_tinasdk5.0-v1/device/config/chips/t113_i/configs/evb1_auto/linux-5.4/board.dts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ubuntu@dshanpi:~/meihao/t113i_tinasdk5.0-v1/device/config/chips/t113_i/configs/evb1_auto/linux-5.4$ vim board.dts\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718092147186",src:s(79187).Z+"",width:"1172",height:"355"})}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u80fdawlink0\u548cawlink1\uff0c\u9ed8\u8ba4\u5904\u4e8e\u4f7f\u80fd\u72b6\u6001\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"2\u914d\u7f6e\u5185\u6838\u9a71\u52a8",children:"2.\u914d\u7f6e\u5185\u6838\u9a71\u52a8"}),"\n",(0,i.jsxs)(n.p,{children:["\u8fdb\u5165SDK\u6e90\u7801\u6839\u76ee\u5f55",(0,i.jsx)(n.code,{children:"t113i_tinasdk5.0-v1/"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u6267\u884c",(0,i.jsx)(n.code,{children:"./build.sh menuconfig"}),"\uff0c\u6253\u5f00\u5185\u6838\u914d\u7f6e\u754c\u9762\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u70b9\u51fb\u952e\u76d8\u4e0a\u7684",(0,i.jsx)(n.code,{children:"/"}),"\u952e\uff0c\u641c\u7d22",(0,i.jsx)(n.code,{children:"awlink"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718092830534",src:s(42464).Z+"",width:"1659",height:"890"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6839\u636e\u8def\u5f84\uff0c\u627e\u5230",(0,i.jsx)(n.code,{children:"Allwinner AWLINK controller"}),"\u9009\u9879\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u9009\u62e9",(0,i.jsx)(n.code,{children:"Networking support"}),"\uff0c\u70b9\u51fb",(0,i.jsx)(n.code,{children:"enter"}),"\u952e\u8fdb\u5165\u3002",(0,i.jsx)(n.img,{alt:"image-20240718093128490",src:s(66787).Z+"",width:"1659",height:"890"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u627e\u5230",(0,i.jsx)(n.code,{children:"CAN bus subsystem support"}),"\uff0c\u70b9\u51fb",(0,i.jsx)(n.code,{children:"enter"}),"\u952e\u8fdb\u5165\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718093520345",src:s(19113).Z+"",width:"1659",height:"890"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e4b\u540e\uff0c\u627e\u5230",(0,i.jsx)(n.code,{children:"CAN Device Drivers"}),"\uff0c\u70b9\u51fb",(0,i.jsx)(n.code,{children:"enter"}),"\u952e\u8fdb\u5165\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718093611165",src:s(77170).Z+"",width:"1659",height:"890"})}),"\n",(0,i.jsxs)(n.p,{children:["\u627e\u5230",(0,i.jsx)(n.code,{children:"Allwinner AWLINK controller"}),"\uff0c\u70b9\u51fb\u952e\u76d8\u4e0a\u7684",(0,i.jsx)(n.code,{children:"y"}),"\u952e\u9009\u4e0a\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718093905474",src:s(82051).Z+"",width:"1659",height:"890"})}),"\n",(0,i.jsx)(n.p,{children:"\u6700\u540e\u4fdd\u5b58\uff0c\u9000\u51fa\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728SDK\u6e90\u7801\u6839\u76ee\u5f55",(0,i.jsx)(n.code,{children:"t113i_tinasdk5.0-v1/"}),"\u4e0b\uff0c\u6267\u884c",(0,i.jsx)(n.code,{children:"./build.sh kernel"}),"\u7f16\u8bd1\u5185\u6838\uff0c\u518d\u6267\u884c",(0,i.jsx)(n.code,{children:"./build.sh "}),"\uff0c\u6700\u540e\u6253\u5305",(0,i.jsx)(n.code,{children:"./build.sh pack"}),"\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718094531615",src:s(49396).Z+"",width:"1539",height:"442"})}),"\n",(0,i.jsx)(n.p,{children:"\u6253\u5305\u5b8c\u6210\u540e\uff0c\u6839\u636e\u4e4b\u524d\u7684\u70e7\u5f55\u65b9\u5f0f\uff0c\u70e7\u5f55\u5230\u5f00\u53d1\u677f\u4e0a\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"3\u6d4b\u8bd5can\u529f\u80fd",children:"3.\u6d4b\u8bd5CAN\u529f\u80fd"}),"\n",(0,i.jsx)(n.p,{children:"\u70e7\u5f55\u5b8c\u6210\u540e\uff0c\u8fdb\u5165\u5f00\u53d1\u677f\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u5f00\u53d1\u677f\u4e0a\uff0c\u6267\u884c",(0,i.jsx)(n.code,{children:"ifconfig -a"}),"\uff0c\u67e5\u770b\u662f\u5426\u5b58\u5728",(0,i.jsx)(n.code,{children:"awlink0"}),"\u548c",(0,i.jsx)(n.code,{children:"awlink1"}),"\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# ifconfig  -a\nawlink0   Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00\n          NOARP  MTU:16  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:10\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nawlink1   Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00\n          NOARP  MTU:16  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:10\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n          Interrupt:1\n\neth0      Link encap:Ethernet  HWaddr 42:5A:1A:01:32:43\n          BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n          Interrupt:40\n\nip6tnl0   Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00\n          NOARP  MTU:1452  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nlo        Link encap:Local Loopback\n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nsit0      Link encap:IPv6-in-IPv4\n          NOARP  MTU:1480  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\n#\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u901a\u8fc7ifconfig\u547d\u4ee4\u67e5\u770bCAN\u63a5\u53e3\u529f\u80fd\u4e3a\u6b63\u5e38\uff0c\u4e0b\u9762\u8fdb\u884cCAN\u529f\u80fd\u7684\u6536\u53d1\u6d4b\u8bd5\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6d4b\u8bd5\u4e4b\u524d\uff0c\u5148\u4f7f\u7528\u4e24\u6839\u675c\u90a6\u7ebf\uff0c\u4e00\u6839\u5c06 ",(0,i.jsx)(n.code,{children:"CAN0 L"})," \u8fde\u63a5\u81f3 ",(0,i.jsx)(n.code,{children:"CAN1 L"}),"\uff0c\u53e6\u4e00\u6839\u5c06 ",(0,i.jsx)(n.code,{children:"CAN0 H"}),"\u8fde\u63a5 ",(0,i.jsx)(n.code,{children:"CAN1 H"}),"\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u8fde\u63a5\u5982\u4e0b\u56fe\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image-20240718100001191",src:s(21447).Z+"",width:"1328",height:"660"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fde\u63a5\u597d\u7ebf\u540e\uff0c\u505a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u8fdb\u884c\u6d4b\u8bd5\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u2460\u4f7f\u7528ip\u547d\u4ee4\u8bbe\u7f6eawlink\u63a5\u53e3\u7684\u901f\u5ea6\u4e3a500Kb/s"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u9700\u8981\u8bbe\u7f6e\u5b8c\u6210awlink\u63a5\u53e3\u901f\u5ea6\u624d\u80fd\u4f7f\u80fdawlink\u63a5\u53e3\uff01\uff01\uff01"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# ip link set awlink0 type can bitrate 500000\n# ip link set awlink1 type can bitrate 500000\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u2461\u6253\u5f00awlink\u7f51\u5361"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# ifconfig awlink0 up\n[ 1105.138598] IPv6: ADDRCONF(NETDEV_CHANGE): awlink0: link becomes ready\n# ifconfig awlink1 up\n[ 1106.368692] IPv6: ADDRCONF(NETDEV_CHANGE): awlink1: link becomes ready\n#\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u2462\u8bbe\u7f6eawlink0\u63a5\u6536\u6570\u636e"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# candump awlink0 &\n[1] 1386\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u2463\u5411awlink0\u53d1\u9001\u6570\u636e"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# cansend awlink0 5A1#11.22.33.44.55.66.77.88\n  awlink0  5A1   [8]  11 22 33 44 55 66 77 88\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e0a\u8ff0cansend\u547d\u4ee4\u4e2d\uff0c\u201c5A1\u201d\u662f\u5e27ID\uff0c\u201c#\u201d\u540e\u9762\u7684\u201c11.22.33.44.55.66.77.88\u201d\u662f\u8981\u53d1\u9001\u7684\u6570\u636e\uff0c\u5341\u516d\u8fdb\u5236\u3002CAN2.0\u4e00\u6b21\u6700\u591a\u53d1\u90018\u4e2a\u5b57\u8282\u7684\u6570\u636e\uff0c8\u5b57\u8282\u6570\u636e\u4e4b\u95f4\u7528\u201c.\u201d\u9694\u5f00\uff0ccan-utils\u4f1a\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u6790\u3002"})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},79187:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718092147186-f422e23aff7f3315f7b262673a153d86.png"},42464:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718092830534-c543f9a7b7a0918f82f21c8dafcb9d9d.png"},66787:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718093128490-8a19ae203c9837a44eb7aefd7de0850b.png"},19113:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718093520345-a859cf804d54a3e54793fd155f5bf563.png"},77170:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718093611165-d65c7442a923207c66433e779aaafbf1.png"},82051:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718093905474-edae9ecbf95006ba526bea65440980ed.png"},49396:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718094531615-81a2acbae1056147a136895f2c9949cd.png"},21447:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/image-20240718100001191-5a4983b7825e44148335577ef0d79daa.png"},11151:(e,n,s)=>{s.d(n,{Z:()=>d,a:()=>a});var i=s(67294);const r={},c=i.createContext(r);function a(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);